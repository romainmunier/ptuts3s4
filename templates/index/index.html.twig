{% extends 'base.html.twig' %}

{% block body %}
    {% include "includes/home/navbar.html.twig" %}
    <header class="d-flex masthead">
        <div class="container my-auto text-center">
            <img src="{{ asset('assets/background/banner3.png') }}" class="w-50 rounded mb-3" draggable="false"><br>
            <div class="row">
                <div class="col-lg-6 row-align-right mb-2">
                    <a class="btn btn-braun btn-xl js-scroll-trigger" role="button" href="#about">Plus d'infos</a>
                </div>
                <br><br>
                <div class="col-lg-6 row-align-left mb-2">
                    {% if app.user %}
                        <a class="btn btn-dark btn-xl js-scroll-trigger" href="">Mon compte</a>
                    {% else %}
                        <a class="btn btn-dark btn-xl js-scroll-trigger" role="button" onclick="$('#loginModal').modal();">Connexion / Inscription</a>
                    {% endif %}
                </div>
            </div>
            <div class="overlay"></div>
        </div>
    </header>

    <section id="about" class="content-section">
        <div class="container text-center bg-lightbraun rounded-5">
            <div class="row">
                <div class="col-lg-10 mx-auto mt-2">
                    <h2 class="text-left" style="color: #484D51">Informations à propos de CEFC</h2>
                    <p class="lead text-justify mb-2 txt-black">
                        La Compagnie Excalibur Franche Comté (CEFC) est une association du type loi 1901, fondée à Belfort en septembre 2000, dont le thème central est l'époque moyenâgeuse. Les objectifs de l'association sont triples, basés sur le sport, l'animation et la culture. Ses membres peuvent :
                    </p>
                    <ul class="text-justify mt-0 lead txt-black">
                        <li>apprendre des techniques de combat médiéval, avec des armes blanches du type épée, bouclier, bâton, ...</li>
                        <li>participer à des animations de fêtes, spectacles, banquets, ...</li>
                        <li>pratiquer divers artisanats et partager des connaissances liés à l'époque médiévale.</li>
                    </ul>
                    <p class="lead text-justify mt-5 mb-2 txt-black">
                        Le côté sportif est celui qui constitue la principale activité des membres de la Compagnie Excalibur Franche Comté (CEFC), en terme de volume horaire. En effet, il y a deux entraînements hebdomadaires, avec échauffement, exercices et pratique libre, comme dans n’importe quel club de sport.
                        <br><br>
                        Le côté animation est assuré par un nombre restreint de membres (cf. trombinoscope) lors de manifestations festives, sous la forme d'ateliers pédagogiques et de démonstrations d'armes.
                        <br><br>
                        Le côté culturel est transversal  aux deux autres, puisqu'il nous sert aussi bien au niveau du combat pour les aspects techniques et matériels, que pour l'animation sur les ateliers pédagogiques.
                    </p>
                    <br>
                </div>
            </div>
        </div>
    </section>

    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content" style="background: #AE8F42">
                <div class="modal-body" id="loginCollapse">
                    <h4 class="text-white">Connectez-vous à votre compte</h4>
                    <hr>
                    <form action="{{ path('login') }}" id="loginForm" method="POST">
                        <div class="alert alert-success" role="alert" style="display: none" id="SUCCESSFULL_CREATION_ACCOUNT">
                            Votre compte a été créé avec succès ! Vous pouvez vous connecter dès maintenant !
                        </div>
                        <div class="form-group">
                            <label for="usernameLoginInput" class="text-white">
                                <strong>Identifiant</strong>
                            </label>
                            <input type="text" class="form-control" id="usernameLoginInput" name="_username" minlength="4" maxlength="128" required>
                        </div>
                        <div class="form-group">
                            <label for="passwordLoginInput" class="text-white">
                                <strong>Mot de passe</strong>
                            </label>
                            <input type="password" class="form-control" id="passwordLoginInput" name="_password" minlength="4" maxlength="128" required>
                        </div>
                        <div class="form-group form-check">
                            <input type="checkbox" class="form-check-input" id="ssdmInput" name="remember_me">
                            <label class="form-check-label" for="ssdmInput">Se souvenir de moi</label>
                        </div>
                        <div class="modal-footer" style="justify-content: left">
                            <button type="button" class="btn btn-dark" onclick="$('#registerModal').modal();">Inscription</button>
                            <button type="submit" class="btn btn-primary">Connexion</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content" style="background: #AE8F42">
                <div class="modal-body" id="loginCollapse">
                    <h4 class="text-white">Rejoignez notre communauté !</h4>
                    <hr>
                    <form action="#" method="POST" id="registerForm" onsubmit="onRegister(); return false;">
                        <div class="form-row">
                            <div class="col-lg-6">
                                <label for="firstnameRegisterInput" class="text-white">
                                    <strong>Prénom</strong>
                                </label>
                                <input type="text" class="form-control" id="firstnameRegisterInput" name="Firstname" minlength="2" maxlength="128" required>
                            </div>
                            <div class="col-lg-6">
                                <label for="lastnameRegisterInput" class="text-white">
                                    <strong>NOM</strong>
                                </label>
                                <input type="text" class="form-control" id="lastnameRegisterInput" name="Lastname" minlength="2" maxlength="128" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="usernameRegisterInput" class="text-white">
                                <strong>Identifiant</strong>
                            </label>
                            <input type="text" class="form-control" id="usernameRegisterInput" name="Username" minlength="4" maxlength="128" required oninput="checkRegisterUsername(this.value)">
                        </div>
                        <div class="alert alert-danger" role="alert" style="display: none" id="USERNAME_ALREADY_USED">
                            L'identifiant renseigné est déjà utilisé. Veuillez en choisir un autre.
                        </div>
                        <div class="form-group">
                            <label for="passwordRegisterInput" class="text-white">
                                <strong>Mot de passe</strong>
                            </label>
                            <input type="password" class="form-control" id="passwordRegisterInput" name="Password" minlength="4" maxlength="128" required>
                        </div>
                        <div class="form-group">
                            <label for="passwordRegisterConfirmationInput" class="text-white">
                                <strong>Confirmation</strong>
                            </label>
                            <input type="password" class="form-control" id="passwordRegisterConfirmationInput" name="PasswordConfirmation" minlength="4" maxlength="128" required>
                        </div>
                        <div class="alert alert-danger" role="alert" style="display: none" id="PASSWORD_NOT_EQUAL">
                            Les deux mots de passe entrés ne correspondent pas. Veuillez réessayer.
                        </div>
                        <div class="modal-footer" style="justify-content: left">
                            <button type="button" class="btn btn-dark" onclick="$('#registerModal').modal('hide')">Annuler</button>
                            <button type="submit" class="btn btn-primary">M'inscrire</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
